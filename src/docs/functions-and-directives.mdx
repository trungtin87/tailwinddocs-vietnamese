import { CodeExampleStack } from "@/components/code-example";

export const title = "Hàm và chỉ thị";
export const description = "Tài liệu tham khảo cho các hàm và chỉ thị tùy chỉnh mà Tailwind cung cấp cho CSS của bạn.";

## Chỉ thị

Chỉ thị là các [at-rules](https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule) tùy chỉnh đặc thù của Tailwind mà bạn có thể sử dụng trong CSS của mình, cung cấp chức năng đặc biệt cho các dự án Tailwind CSS.

<h3 id="import-directive">
  <a href="#import-directive">@import</a>
</h3>

Sử dụng chỉ thị `@import` để import nội tuyến các file CSS, bao gồm cả chính Tailwind:

```css
/* [!code filename:CSS] */
@import "tailwindcss";
```

<h3 id="theme-directive">
  <a href="#theme-directive">@theme</a>
</h3>

Sử dụng chỉ thị `@theme` để định nghĩa các token thiết kế tùy chỉnh cho dự án của bạn, như font chữ, màu sắc và breakpoint:

```css
/* [!code filename:CSS] */
@theme {
  --font-display: "Satoshi", "sans-serif";

  --breakpoint-3xl: 120rem;

  --color-avocado-100: oklch(0.99 0 0);
  --color-avocado-200: oklch(0.98 0.04 113.22);
  --color-avocado-300: oklch(0.94 0.11 115.03);
  --color-avocado-400: oklch(0.92 0.19 114.08);
  --color-avocado-500: oklch(0.84 0.18 117.33);
  --color-avocado-600: oklch(0.53 0.12 118.34);

  --ease-fluid: cubic-bezier(0.3, 0, 0, 1);
  --ease-snappy: cubic-bezier(0.2, 0, 0, 1);

  /* ... */
}
```

Tìm hiểu thêm về cách tùy chỉnh theme của bạn trong [tài liệu biến theme](/docs/theme).

<h3 id="source-directive">
  <a href="#source-directive">@source</a>
</h3>

Sử dụng chỉ thị `@source` để chỉ định rõ ràng các file nguồn mà tính năng tự động phát hiện nội dung của Tailwind không nhận diện được:

```css
/* [!code filename:CSS] */
@source "../node_modules/@my-company/ui-lib";
```

Tìm hiểu thêm về tự động phát hiện nội dung trong [tài liệu phát hiện class trong file nguồn](/docs/detecting-classes-in-source-files).

<h3 id="utility-directive">
  <a href="#utility-directive">@utility</a>
</h3>

Sử dụng chỉ thị `@utility` để thêm các tiện ích tùy chỉnh vào dự án của bạn, hoạt động với các variant như `hover`, `focus` và `lg`:

```css
/* [!code filename:CSS] */
@utility tab-4 {
  tab-size: 4;
}
```

Tìm hiểu thêm về đăng ký tiện ích tùy chỉnh trong [tài liệu thêm tiện ích tùy chỉnh](/docs/adding-custom-styles#adding-custom-utilities).

<h3 id="variant-directive">
  <a href="#variant-directive">@variant</a>
</h3>

Sử dụng chỉ thị `@variant` để áp dụng một variant Tailwind vào các style trong CSS của bạn:

```css
/* [!code filename:CSS] */
.my-element {
  background: white;

  /* [!code highlight:4] */
  @variant dark {
    background: black;
  }
}
```

Tìm hiểu thêm về sử dụng variant trong [tài liệu sử dụng variant](/docs/adding-custom-styles#using-variants).

<h3 id="custom-variant-directive">
  <a href="#custom-variant-directive">@custom-variant</a>
</h3>

Sử dụng chỉ thị `@custom-variant` để thêm một variant tùy chỉnh vào dự án của bạn:

```css
/* [!code filename:CSS] */
@custom-variant theme-midnight (&:where([data-theme="midnight"] *));
```

Điều này cho phép bạn viết các tiện ích như `theme-midnight:bg-black` và `theme-midnight:text-white`.

Tìm hiểu thêm về thêm variant tùy chỉnh trong [tài liệu thêm variant tùy chỉnh](/docs/adding-custom-styles#adding-custom-variants).

<h3 id="apply-directive">
  <a href="#apply-directive">@apply</a>
</h3>

Sử dụng chỉ thị `@apply` để inline bất kỳ utility class hiện có nào vào CSS tùy chỉnh của bạn:

```css
/* [!code filename:CSS] */
.select2-dropdown {
  /* [!code highlight:2] */
  @apply rounded-b-lg shadow-md;
}

.select2-search {
  /* [!code highlight:2] */
  @apply rounded border border-gray-300;
}

.select2-results__group {
  /* [!code highlight:2] */
  @apply text-lg font-bold text-gray-900;
}
```

Điều này hữu ích khi bạn cần viết CSS tùy chỉnh (như để ghi đè style của thư viện bên thứ ba) nhưng vẫn muốn làm việc với các token thiết kế của mình và sử dụng cùng cú pháp mà bạn đã quen dùng trong HTML.

<h3 id="reference-directive">
  <a href="#reference-directive">@reference</a>
</h3>

Nếu bạn muốn sử dụng `@apply` hoặc `@variant` trong khối `<style>` của một component Vue hoặc Svelte, hoặc trong CSS modules, bạn sẽ cần import các biến theme, tiện ích tùy chỉnh và variant tùy chỉnh của mình để làm cho các giá trị đó khả dụng trong ngữ cảnh đó.

Để làm điều này mà không bị trùng lặp CSS trong output, hãy sử dụng chỉ thị `@reference` để import stylesheet chính của bạn để tham chiếu mà không thực sự bao gồm các style đó:

```html
<!-- [!code filename:Vue] -->
<template>
  <h1>Hello world!</h1>
</template>

<style>
  /* [!code highlight:2] */
  @reference "../../app.css";

  h1 {
    @apply text-2xl font-bold text-red-500;
  }
</style>
```

Nếu bạn chỉ đang sử dụng theme mặc định mà không có tùy chỉnh nào (ví dụ: bằng cách sử dụng những thứ như `@theme`, `@custom-variant`, `@plugin`, v.v...), bạn có thể import `tailwindcss` trực tiếp:

```html
<!-- [!code filename:Vue] -->
<template>
  <h1>Hello world!</h1>
</template>

<style>
  /* [!code highlight:2] */
  @reference "tailwindcss";

  h1 {
    @apply text-2xl font-bold text-red-500;
  }
</style>
```

### Import đường dẫn con

Khi sử dụng CLI, Vite, hoặc PostCSS, các chỉ thị `@import`, `@reference`, `@plugin`, và `@config` đều hỗ trợ [subpath imports](https://nodejs.org/api/packages.html#subpath-imports) hoạt động tương tự như bundler và TypeScript path aliases:

```json
// [!code filename:package.json]
{
  // ...
  "imports": {
    /* [!code highlight:2] */
    "#app.css": "./src/css/app.css"
  }
}
```

```html
<!-- [!code filename:Vue] -->
<template>
  <h1>Hello world!</h1>
</template>

<style>
  /* [!code highlight:2] */
  @reference "#app.css";

  h1 {
    @apply text-2xl font-bold text-red-500;
  }
</style>
```

## Hàm

Tailwind cung cấp các hàm build-time sau để làm việc với màu sắc và thang đo khoảng cách dễ dàng hơn.

<h3 id="alpha-function">
  <a href="#alpha-function">--alpha()</a>
</h3>

Sử dụng hàm `--alpha()` để điều chỉnh độ mờ của một màu:

<CodeExampleStack>

```css
/* [!code filename:Input CSS] */
.my-element {
  /* [!code highlight:2] */
  color: --alpha(var(--color-lime-300) / 50%);
}
```

```css
/* [!code filename:Compiled CSS] */
.my-element {
  color: color-mix(in oklab, var(--color-lime-300) 50%, transparent);
}
```

</CodeExampleStack>

<h3 id="spacing-function">
  <a href="#spacing-function">--spacing()</a>
</h3>

Sử dụng hàm `--spacing()` để tạo ra một giá trị khoảng cách dựa trên theme của bạn:

<CodeExampleStack>

```css
/* [!code filename:Input CSS] */
.my-element {
  /* [!code highlight:2] */
  margin: --spacing(4);
}
```

```css
/* [!code filename:Compiled CSS] */
.my-element {
  margin: calc(var(--spacing) * 4);
}
```

</CodeExampleStack>

Điều này cũng có thể hữu ích trong các giá trị tùy ý, đặc biệt là khi kết hợp với `calc()`:

```html
<!-- [!code filename:HTML] -->
<!-- [!code classes:py-[calc(--spacing(4)-1px)]] -->
<div class="py-[calc(--spacing(4)-1px)]">
  <!-- ... -->
</div>
```

## Khả năng tương thích

Các chỉ thị và hàm sau đây chỉ tồn tại để tương thích với Tailwind CSS v3.x.

Các chỉ thị `@config` và `@plugin` có thể được sử dụng kết hợp với `@theme`, `@utility`, và các tính năng hướng CSS khác. Điều này có thể được sử dụng để chuyển dần theme, cấu hình tùy chỉnh, tiện ích, variant và preset của bạn sang CSS. Những thứ được định nghĩa trong CSS sẽ được hợp nhất nếu có thể và nếu không sẽ được ưu tiên hơn những thứ được định nghĩa trong config, preset và plugin.

<h3 id="config-directive">
  <a href="#config-directive">@config</a>
</h3>

Sử dụng chỉ thị `@config` để tải một file cấu hình dựa trên JavaScript cũ:

```css
/* [!code filename:CSS] */
@config "../../tailwind.config.js";
```

Các tùy chọn `corePlugins`, `safelist`, và `separator` từ config dựa trên JavaScript không được hỗ trợ trong v4.0. Để safelist các tiện ích trong v4, hãy sử dụng [`@source inline()`](/docs/detecting-classes-in-source-files#safelisting-specific-utilities).

<h3 id="plugin-directive">
  <a href="#plugin-directive">@plugin</a>
</h3>

Sử dụng chỉ thị `@plugin` để tải một plugin dựa trên JavaScript cũ:

```css
/* [!code filename:CSS] */
@plugin "@tailwindcss/typography";
```

Chỉ thị `@plugin` chấp nhận tên gói hoặc đường dẫn cục bộ.

<h3 id="theme-function">
  <a href="#theme-function">theme()</a>
</h3>

Sử dụng hàm `theme()` để truy cập các giá trị theme Tailwind của bạn bằng ký hiệu dấu chấm:

```css
/* [!code filename:CSS] */
.my-element {
  /* [!code highlight:2] */
  margin: theme(spacing.12);
}
```

Hàm này đã bị phản đối, và chúng tôi khuyên bạn nên [sử dụng biến theme CSS](/docs/theme#using-your-theme-variables) thay thế.
